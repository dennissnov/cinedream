"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){t=function(){return o};var r,o={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(r){d=function(e,t,r){return e[t]=r}}function p(e,t,r,o){var n=t&&t.prototype instanceof w?t:w,i=Object.create(n.prototype),c=new X(o||[]);return a(i,"_invoke",{value:L(e,r,c)}),i}function y(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=p;var f="suspendedStart",g="suspendedYield",h="executing",m="completed",v={};function w(){}function S(){}function x(){}var b={};d(b,l,(function(){return this}));var q=Object.getPrototypeOf,A=q&&q(q(F([])));A&&A!==n&&i.call(A,l)&&(b=A);var k=x.prototype=w.prototype=Object.create(b);function P(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function T(t,r){function o(n,a,c,l){var u=y(t[n],t,a);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==e(d)&&i.call(d,"__await")?r.resolve(d.__await).then((function(e){o("next",e,c,l)}),(function(e){o("throw",e,c,l)})):r.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return o("throw",e,c,l)}))}l(u.arg)}var n;a(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,n){o(e,t,r,n)}))}return n=n?n.then(i,i):i()}})}function L(e,t,o){var n=f;return function(i,a){if(n===h)throw Error("Generator is already running");if(n===m){if("throw"===i)throw a;return{value:r,done:!0}}for(o.method=i,o.arg=a;;){var c=o.delegate;if(c){var l=E(c,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===f)throw n=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=h;var u=y(e,t,o);if("normal"===u.type){if(n=o.done?m:g,u.arg===v)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(n=m,o.method="throw",o.arg=u.arg)}}}function E(e,t){var o=t.method,n=e.iterator[o];if(n===r)return t.delegate=null,"throw"===o&&e.iterator.return&&(t.method="return",t.arg=r,E(e,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var i=y(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function X(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function F(t){if(t||""===t){var o=t[l];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}throw new TypeError(e(t)+" is not iterable")}return S.prototype=x,a(k,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:S,configurable:!0}),S.displayName=d(x,s,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},o.awrap=function(e){return{__await:e}},P(T.prototype),d(T.prototype,u,(function(){return this})),o.AsyncIterator=T,o.async=function(e,t,r,n,i){void 0===i&&(i=Promise);var a=new T(p(e,t,r,n),i);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(k),d(k,s,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},o.values=F,X.prototype={constructor:X,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,n){return c.type="throw",c.arg=e,t.next=o,n&&(t.method="next",t.arg=r),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;O(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:F(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=r),v}},o}function r(e,t,r,o,n,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(o,n)}function o(e){return function(){var t=this,o=arguments;return new Promise((function(n,i){var a=e.apply(t,o);function c(e){r(a,n,i,c,l,"next",e)}function l(e){r(a,n,i,c,l,"throw",e)}c(void 0)}))}}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,r||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var c=function(){function e(r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"waitForFonts",o(t().mark((function e(){var r,n,i,a,c,l,u,s=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=s.length>0&&void 0!==s[0]?s[0]:{}).fonts,i=void 0===n?["Urbanist","Avenir"]:n,a=r.timeout,void 0===a?5e3:a,c=r.onFontsLoaded,l=void 0===c?function(){}:c,document.fonts){e.next=4;break}return console.warn("Font loading API not supported"),e.abrupt("return");case 4:return e.prev=4,u=i.map(function(){var e=o(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.fonts.load("1em ".concat(r));case 2:return e.abrupt("return",document.fonts.check("1em ".concat(r)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,Promise.all(u);case 8:e.sent.every((function(e){return e}))?(console.log("All fonts have loaded"),document.documentElement.classList.add("fonts-loaded"),l()):console.warn("Some fonts may not have loaded completely"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error loading fonts",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))),i(this,"textSplitter",(function(e,t){e.length>0?e.forEach((function(e){e.classList.add("split-type")})):e.classList.add("split-type");var r=Object.assign({},{types:"lines, words, chars",linesClass:"line",wordsClass:"word",charsClass:"char"},t);return new SplitType(e,r)})),i(this,"videoScroller",(function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t&&e){var n={trigger:t,start:"top top",end:"bottom top",scrub:!0,pin:!1,markers:!1},i=Object.assign({},n,r),a=e.currentSrc||e.src;c(document.documentElement,"touchstart",(function(t){e.play(),e.pause()})),c(e,"loadedmetadata",(function(){setTimeout((function(){var t=e.duration-o-.1||1;console.log(t,e.duration,"targetTime",o),gsap.timeline({defaults:{duration:1},scrollTrigger:i}).fromTo(e,{currentTime:0},{currentTime:t}),ScrollTrigger.refresh()}),100)})),setTimeout((function(){window.fetch&&fetch(a).then((function(e){return e.blob()})).then((function(t){var r=URL.createObjectURL(t),n=e.currentTime-o||1;c(document.documentElement,"touchstart",(function(t){e.play(),e.pause()})),e.setAttribute("src",r),e.currentTime=n+.01}))}),1e3)}else console.error("Section or video element not found.");function c(e,t,r,o){var n=function o(n){e.removeEventListener(t,o),r.apply(this,arguments)};return e.addEventListener(t,n,o),n}})),i(this,"observerHeightChange",(function(e,t){new ResizeObserver((function(){ScrollTrigger.refresh(),ScrollTrigger.update(),console.log("%cRefreshed","color: green")})).observe(document.documentElement)})),gsap.registerPlugin(ScrollTrigger,Flip),this.registerBlur(),this.option=r,this.lenis=null,this.init(),this.observerHeightChange(),setTimeout((function(){}),0),requestAnimationFrame((function(){n.initVideoScrollSection(),n.initScrollAutoPlayVideo(),n.initTextScrollSection(),n.initMeetCineDream(),n.initUnlockPower(),n.initAddFilmEffect(),n.initReviewAnimation(),n.initUnlockPowerLut(),n.initPremierePro(),n.initFinalCutPro(),n.initDavinciResolve(),n.initCineDreamAction()}))}return r=e,a=[{key:"defaultOption",get:function(){return{el:null,duration:0,delay:0,easing:"linear",direction:"normal",iteration:1,fillMode:"forwards"}}},{key:"init",value:function(){this.option=Object.assign({},this.defaultOption,this.option),this.el=document.querySelector(this.option.el)}},{key:"progressiveBuild",value:function(){var e=Array.from(arguments),t=0,r=gsap.timeline({onComplete:function(){var o="number"==typeof e[t]?e[t++]:0,n=e[t++];"function"==typeof n&&r.add(n(),"+="+o)}});return r.vars.onComplete(),r}},{key:"registerBlur",value:function(){var e=gsap.utils.checkPrefix("filter"),t=/blur\((.+)?px\)/,r=function(r){return(gsap.getProperty(r,e)||"").match(t)||[]};gsap.registerPlugin({name:"blur",get:function(e){return+r(e)[1]||0},init:function(t,o){var n,i=gsap.getProperty(t,e),a="blur("+o+"px)",c=r(t)[0];"none"===i&&(i=""),c?(n=i.indexOf(c),o=i.substr(0,n)+a+i.substr(n+c.length)):(o=i+a,i+=i?" blur(0px)":"blur(0px)"),this.target=t,this.interp=gsap.utils.interpolate(i,o)},render:function(t,r){r.target.style[e]=r.interp(t)}})}},{key:"initLenis",value:function(){var e=this;this.lenis=new Lenis({duration:1,easing:function(e){return e},smooth:!0,smoothTouch:!1}),this.lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add((function(t){e.lenis.raf(1e3*t)})),gsap.ticker.lagSmoothing(0)}},{key:"initVideoScrollSection",value:function(){var e=document.querySelector(".section-video-scroll");console.log(e,"section asu"),this.canvasAnimation({element:"#video-scroll-canvas",totalFrames:200,fileType:"jpg",imageFolder:"https://cinedream.s3.us-west-2.amazonaws.com/videos/demo_4_conv/jpg",filenamePrefix:"demo_4_conv",padLength:8,startFrame:86400,trigger:e,pin:".section-video-scroll .wrapper-video-editor"})}},{key:"initBannerAnimation",value:function(){var e=this,t=document.querySelector(".section-banner"),r=t.querySelectorAll("h1"),o=t.querySelectorAll("h4"),n=t.querySelectorAll("p"),a=t.querySelectorAll(".icon-wrapper img"),c=document.querySelector(".lightbox-wrapper");this.lenis.scrollTo(0,{duration:.01}),this.lenis.stop(),function(){var t=e.textSplitter(o);r.forEach((function(r,o){var n,i=e.textSplitter(r),a=gsap.timeline({duration:1,ease:"elastic.out(1, 0.3)",delay:.5*o}),c=null===(n=r.parentNode)||void 0===n?void 0:n.querySelector(".gradient-bg");a.fromTo(i.chars,{rotationY:90},{rotationY:0,duration:.5,stagger:.05}).fromTo(t.chars,{rotationY:90},{rotationY:0,duration:.5,delay:.01*o,stagger:.01,ease:"back.out(1.7)"}),gsap.set(c,{transformOrigin:"20% 55%"}),gsap.from(c,{scaleX:0,duration:1,ease:"back.out(2.7)",delay:1.2+.5*o})})),gsap.from(n,{y:100,opacity:0,duration:.5,stagger:.01,ease:"back.out(1.7)",delay:2}),gsap.from(a,{y:50,opacity:0,duration:1,stagger:.1,ease:"back.out(1.7)",delay:2}),gsap.fromTo(c,{yPercent:1e3,scale:10,duration:2,ease:"power4.out",transformOrigin:"center top"},{yPercent:0,scale:.7,duration:2,delay:0,ease:"expo.out",onComplete:function(){e.lenis.start()}}),document.querySelector(".section-banner .section");var l=document.querySelector(".lightbox-section");ScrollTrigger.create(i(i(i({trigger:l,start:"clamp(top 10%)",end:"clamp(40%  10%)",markers:!1,immediateRender:!1,id:"text-intro",pinSpacing:!1,pin:!0},"markers",!1),"animation",gsap.to(c,{scale:1,yPercent:0,duration:1,ease:"expo.out"})),"scrub",1))}()}},{key:"destroyBannerAnimation",value:function(){var e=this;document.querySelector(".section-banner").querySelectorAll("h1").forEach((function(t,r){e.textSplitter(t).revert()}))}},{key:"canvasAnimation",value:function(e){var t=e.element,r=e.totalFrames,o=e.fileType,n=e.imageFolder,i=e.filenamePrefix,a=e.padLength,c=e.startFrame,l=void 0===c?0:c,u=e.trigger,s=e.pin,d=void 0!==s&&s,p=document.querySelector(t);if(p){var y=p.getContext("2d"),f=function(e,t){y.clearRect(0,0,p.width,p.height);var r=e[t],o=r.width/r.height,n=p.width,i=p.height;p.width/p.height>o?n=p.height*o:i=p.width/o;var a=(p.width-n)/2;y.drawImage(r,a,0,n,i)},g=Array.from({length:r},(function(e,t){return r=l+t,(c=new Image).src="".concat(n,"/").concat(i,"_").concat(String(r).padStart(a,"0"),".").concat(o),c;var r,c}));p.width=window.innerWidth,p.height=window.innerHeight;var h=function(){p.width=window.innerWidth,p.height=window.innerHeight;var e=Math.floor(gsap.getProperty(p,"progress")*(g.length-1));f(g,e)};h(),window.addEventListener("resize",h),setTimeout((function(){f(g,0)}),1e3),function(e,t,r){window.innerHeight,gsap.to(e,{ease:"none",scrollTrigger:{trigger:u,start:"top top",end:"bottom bottom",scrub:!0,pin:d,invalidateOnRefresh:!0,markers:!0,onUpdate:function(o){if(o){var n=o.progress,i=Math.floor(n*(r.length-1));t.clearRect(0,0,e.width,e.height);var a=r[i],c=a.width/a.height,l=e.width,u=e.height;e.width/e.height>c?l=e.height*c:u=e.width/c;var s=(e.width-l)/2;t.drawImage(a,s,0,l,u)}}}})}(p,y,g)}else console.error("Canvas element not found.")}},{key:"autoPlayOnScroll",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.play();function a(){e.removeEventListener("timeupdate",c),e.addEventListener("timeupdate",c),ScrollTrigger.create({trigger:t,start:"top center",end:"bottom center",markers:!0,id:"video autoplay",onEnter:function(){e.currentTime=r,e.play()},onEnterBack:function(){e.currentTime=r,e.play()},onLeave:function(){return e.pause()},onLeaveBack:function(){return e.pause()}}),setTimeout((function(){ScrollTrigger.refresh(),ScrollTrigger.update()}),0)}function c(){o>0&&e.currentTime>=o&&(n?(e.currentTime=r,e.play()):e.pause())}void 0!==i?i.then((function(){e.pause(),a()})).catch((function(){a()})):a()}},{key:"initScrollAutoPlayVideo",value:function(){var e=document.querySelector(".lightbox-section"),t=null==e?void 0:e.querySelector("video");e&&t&&this.autoPlayOnScroll(t,e)}},{key:"initTextScrollSection",value:function(){var e=document.querySelector(".section-text-intro"),t=null==e?void 0:e.querySelectorAll("h2");if(e&&t){var r=this.textSplitter(t),o=gsap.utils.selector(e),n=(o(".section-text-intro-wrapper")[0],o(".text-middle-wrapper")[0]),i=o(".text-main-top")[0],a=o(".text-main-bottom")[0],c=o(".text-main-middle")[0],l=n.querySelectorAll(".text-wrapper"),u=e.querySelectorAll(".gradient-bg");gsap.set(u,{transformOrigin:"10% 55%"}),gsap.set(r.chars,{opacity:.3}),gsap.set(l,{y:100,opacity:0,blur:10}),gsap.set([i,c,a],{y:100,opacity:0,blur:10}),ScrollTrigger.create({trigger:e,start:"top 0%",end:"top 0%",id:"sec",onEnter:function(){document.querySelector(".section-vignette").classList.add("disabled")},onLeaveBack:function(){document.querySelector(".section-vignette").classList.remove("disabled")}});var s=window.innerHeight,d=gsap.timeline({});d.to(l[0],{y:0,blur:0,opacity:1,duration:1,ease:"none",overwrite:"auto"}).add("scene1").set(o(".text-middle-wrapper .text-wrapper")[0].querySelectorAll(".char"),{opacity:1,stagger:{amount:1}},"scene1").fromTo(u[0],{scaleX:0,opacity:0},{scaleX:1,opacity:1,duration:2},"scene1").to(l[0],{y:-150,opacity:0,blur:10,duration:1,overwrite:"auto"}),d.to([l[1],l[2]],{y:0,blur:0,opacity:1,duration:1},"-=0.5").add("scene2").set(o(".text-middle-wrapper .text-wrapper")[1].querySelectorAll(".char"),{opacity:1,stagger:{amount:1}},"scene2").fromTo(u[1],{scaleX:0,opacity:0},{scaleX:1,opacity:1,duration:2},"scene2").add("scene3").set(o(".text-middle-wrapper .text-wrapper")[2].querySelectorAll(".char"),{opacity:1,duration:1,stagger:{amount:1}},"scene3").fromTo(u[2],{scaleX:0,opacity:0},{scaleX:1,opacity:1,duration:2},"scene3").to([o(".text-middle-wrapper .text-wrapper")[1],o(".text-middle-wrapper .text-wrapper")[2]],{y:-150,blur:10,opacity:0,duration:1}),d.to(i,{y:0,blur:0,opacity:1,duration:1}).add("scene4").set(i.querySelectorAll(".text-wrapper")[0].querySelectorAll(".char"),{opacity:1,stagger:.1},"scene4").fromTo(u[3],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene4").add("scene4b").set(i.querySelectorAll(".text-wrapper")[1].querySelectorAll(".char"),{opacity:1,stagger:.1},"scene4b").fromTo(u[4],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene4b").add("scene4c").set(i.querySelectorAll(".text-wrapper")[2].querySelectorAll(".char"),{opacity:1,duration:1,stagger:{amount:1}},"scene4c").fromTo(u[5],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene4c"),d.to(c,{y:0,blur:0,opacity:1,duration:1},"-=2").add("scene5","-=1").set(c.querySelectorAll(".text-wrapper")[0].querySelectorAll(".char"),{opacity:1,stagger:.1},"scene5").fromTo(u[6],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene5").add("scene5b").set(c.querySelectorAll(".text-wrapper")[1].querySelectorAll(".char"),{opacity:1,stagger:.1},"scene5b").fromTo(u[7],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene5b").add("scene5c").set(c.querySelectorAll(".text-wrapper")[2].querySelectorAll(".char"),{opacity:1,duration:1,stagger:{amount:1}},"scene5c").fromTo(u[8],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene5c"),d.to(a,{y:0,blur:0,opacity:1,duration:1},"-=2").add("scene6","-=1").set(a.querySelectorAll(".text-wrapper")[0].querySelectorAll(".char"),{opacity:1,duration:1,stagger:{amount:1}},"scene6").fromTo(u[9],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene6").add("scene6b").set(a.querySelectorAll(".text-wrapper")[1].querySelectorAll(".char"),{opacity:1,stagger:.1},"scene6b").fromTo(u[10],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene6b").add("scene6c").set(a.querySelectorAll(".text-wrapper")[2].querySelectorAll(".char"),{opacity:1,duration:1,stagger:{amount:1}},"scene6c").fromTo(u[11],{scaleX:0},{scaleX:1,opacity:1,duration:2},"scene6c").to([i,c,a],{y:-100,blur:10,opacity:0,duration:1,stagger:.1}),ScrollTrigger.create({trigger:".section-text-intro",start:"top top",end:"bottom-=".concat(s," top"),markers:!0,id:"pin",pin:!0,scrub:1,animation:d})}}},{key:"initMeetCineDream",value:function(){var e=document.querySelector(".section-meet-cinedream");if(e){var t=gsap.utils.selector(e),r=null==e?void 0:e.querySelector("video"),o=(document.querySelector(".section-vignette"),e.querySelector(".meet-cinedream-slider").querySelectorAll(".meet-cinedream-slide"),e.querySelector(".line-progress-wrapper"));gsap.set([o],{opacity:0});var n=gsap.timeline({paused:!0,defaults:{duration:1,ease:"none"}});n.from(t(".meet-cinedream-video"),{scale:.5}).to(t(".meet-cinedream-video"),{"--border-radius-cinedream":"0px"},"<"),ScrollTrigger.create({trigger:e,start:"top bottom",end:"top top",markers:!0,id:"meet-cinedream",scrub:1,pin:".section-text-intro",pinSpacing:!1,animation:n});var i=r.duration,a=e.querySelector(".source"),c=(e.querySelector(".target"),e.querySelector(".video-meet"),Flip.getState(".target")),l=gsap.timeline({defaults:{duration:.1,ease:"none"}});l.from(t(".meet-cinedream-text-2"),{opacity:0,duration:.05,blur:10,ease:"expo.out"},0).fromTo(t(".meet-cinedream-text-2"),{yPercent:0,opacity:1,blur:0},{yPercent:-100,opacity:0,duration:.05,blur:10}),l.from(t(".meet-cinedream-text"),{opacity:0,duration:.05,blur:10,ease:"expo.out"}).to(t(".meet-cinedream-text"),{scale:1,duration:.05}).fromTo(t(".meet-cinedream-text"),{yPercent:0,opacity:1,blur:0},{yPercent:-100,opacity:0,blur:10,duration:.1});var u=e.querySelector(".meet-cinedream-slide-1"),s=e.querySelector(".meet-cinedream-slide-2"),d=e.querySelector(".meet-cinedream-slide-3"),p=e.querySelectorAll(".vertical-slide");l.duration(i-.1),l.set(o,{opacity:1}).add("flip").add(Flip.fit(a,c,{duration:.5,absolute:!0,scale:!0,ease:"expoScale(0.5,7,none)"}),"flip").to(t(".meet-cinedream-video"),{"--border-radius-cinedream":"90px",duration:.3},"flip").add("slide1","<+=0.2").from(u,{xPercent:-100,opacity:0,duration:.2,ease:"expo.out"},"slide1").to(u,{scale:1,duration:.5}).to(o.querySelectorAll(".line-progress-active")[0],{scaleX:1,duration:.5},"<").add("slide1Out").to(u,{xPercent:100,opacity:0,duration:.2,ease:"expo.out"},"slide1Out").add("slide2","<").from(s,{xPercent:-100,opacity:0,duration:.2,ease:"expo.out"},"slide2").to(s,{scale:1,duration:.2}).to(o.querySelectorAll(".line-progress-active")[1],{scaleX:1,duration:.2},"<").add("slide2Out").to(s,{xPercent:100,opacity:0,duration:.2,ease:"expo.out"},"slide2Out").add("slide3","<").from(d,{xPercent:-100,opacity:0,duration:.2,ease:"expo.out"},"slide3").to(d,{scale:1,duration:.2}).to(o.querySelectorAll(".line-progress-active")[2],{scaleX:1,duration:.2},"<").to(p[0],{duration:.3,opacity:1}).add("slide3AOut").to(p[0],{yPercent:100,duration:.1,opacity:0},"slide3AOut").add("slide3BIn","-=0.05").fromTo(p[1],{opacity:0},{duration:.1,opacity:1},"slide3BIn").to(p[1],{duration:.5,opacity:1}).to(o.querySelectorAll(".line-progress-active")[3],{scaleX:1,duration:.5},"<").add("slide3BOut","-=0.05").to(p[1],{yPercent:100,duration:.1,opacity:0},"slide3BOut").add("slide3CIn","-=0.05").fromTo(p[2],{opacity:0},{duration:.1,opacity:1},"slide3CIn").to(p[2],{duration:.8,opacity:1}).to(o.querySelectorAll(".line-progress-active")[4],{scaleX:1,duration:.8},"<"),this.videoScroller(r,e,{trigger:e,start:"top top",end:"bottom-=".concat(innerHeight," top"),pin:!1,markers:{startColor:"yellow",endColor:"white",fontSize:"20px",indent:1e3},id:"meet-cinedream-video",scrub:1}),ScrollTrigger.create({trigger:e,start:"top top",end:"bottom-=".concat(innerHeight," top"),markers:{startColor:"blue",endColor:"white",fontSize:"20px",indent:500},id:"meet-cinedream-text",pin:".meet-cinedream-wrapper",preventOverlaps:!0,animation:l,immediateRender:!1,scrub:1})}}},{key:"initReviewAnimation",value:function(){var e=document.querySelector(".section-review"),t=null==e?void 0:e.querySelectorAll("h2"),r=null==e?void 0:e.querySelector(".card-review-wrapper"),o=null==e?void 0:e.querySelectorAll(".card-review-row"),n=null==e?void 0:e.querySelectorAll(".card-review");if(e&&t&&o){var i=gsap.timeline({scrollTrigger:{trigger:e,start:"0% 0%",end:"bottom+=200% 0%",scrub:1,pin:!0,markers:!0}});n.forEach((function(e){ScrollTrigger.create({trigger:e,containerAnimation:i,start:"left center",end:"right center",toggleActions:"play none none reset",id:"1",markers:!1,onEnter:function(){e.classList.add("active")},onLeaveBack:function(){e.classList.remove("active")},onEnterBack:function(){e.classList.add("active")},onLeave:function(){e.classList.remove("active")}})}));var a=n[0].getBoundingClientRect().width,c=r.getBoundingClientRect().width;i.to(o,{x:"-=".concat(c-a/2),duration:1,ease:"none"})}}},{key:"playVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.addEventListener("timeupdate",(function(){this.currentTime>=e.duration-.1-r&&this.pause()}),!1),e.load(),e.play();try{e.currentTime=t}catch(e){}}},{key:"initPremierePro",value:function(){var e=document.querySelector(".section-premiere-pro"),t=null==e?void 0:e.querySelector("video");e&&t&&this.autoPlayOnScroll(t,e,7,15,!0)}},{key:"initFinalCutPro",value:function(){var e=document.querySelector(".section-final-cut"),t=null==e?void 0:e.querySelector("video");e&&t&&this.autoPlayOnScroll(t,e,17,25,!0)}},{key:"initDavinciResolve",value:function(){var e=document.querySelector(".section-davinci-resolve"),t=null==e?void 0:e.querySelector("video");e&&t&&this.autoPlayOnScroll(t,e,13,20,!0)}},{key:"initCineDreamAction",value:function(){var e=document.querySelector(".section-cinedream-action");if(e){var t=e.querySelectorAll(".bg-image-col");t.length&&(t.forEach((function(e,t){e.querySelectorAll("div").forEach((function(t){var r=t.cloneNode(!0);e.appendChild(r)})),e.style.overflow="hidden"})),t.forEach((function(e,t){var r=e.querySelectorAll("div"),o=gsap.timeline({paused:!0});o.to(r,{yPercent:t%2==0?-100:100,duration:1.5}),2===t&&gsap.set([r[3],r[4],r[7]],{opacity:0}),0!==t&&4!==t||gsap.set([r[5],r[6],r[7]],{opacity:0}),1!==t&&3!==t||gsap.set([r[4],r[0],r[1],r[6]],{opacity:0}),ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",animation:o,scrub:1,markers:!1})})),ScrollTrigger.refresh())}}},{key:"initCreateSLiderText",value:function(e,t){var r=null==e?void 0:e.querySelector("[data-text-slide]"),o=r.getAttribute("data-text-slide").split(","),n=(o.length,r.querySelector(t));n.innerHTML="";var i=document.createElement("div");return i.classList.add("text-slide-wrapper"),n.appendChild(i),o.forEach((function(e,t){var r=document.createElement("span");r.textContent=e,r.classList.add("text-slide"),i.appendChild(r)})),i.querySelectorAll(".text-slide").forEach((function(e,t){gsap.set(e,{yPercent:100*t})})),i}},{key:"initUnlockPower",value:function(){var e=document.querySelector(".section-unlock-power"),t=null==e?void 0:e.querySelector("video");if(e&&t){this.initCreateSLiderText(e,".h4"),this.videoScroller(t,e,{trigger:e,start:"top top",end:"bottom-=".concat(innerHeight," top"),pin:".section-unlock-power .section-wrapper",markers:!1,preventOverlaps:!0,scrub:1},14.5);var r=t.duration,o=gsap.timeline({paused:!0});o.duration(r);var n=e.querySelector(".line-progress-wrapper"),i=[.8,.4,.8,.5,2.5],a=e.querySelector("[data-text-slide]");o.to(null==e?void 0:e.querySelector(".text-slide-wrapper"),{duration:i[0],ease:"expo.out"}).to(a,{width:a.querySelectorAll(".text-slide")[0].offsetWidth+20},"<").to(n.querySelectorAll(".line-progress-active")[0],{scaleX:1,duration:i[0]},"<").to(null==e?void 0:e.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:i[1],ease:"expo.out"}).to(a,{width:a.querySelectorAll(".text-slide")[1].offsetWidth+20},"<").to(n.querySelectorAll(".line-progress-active")[1],{scaleX:1,duration:i[1]},"<").to(null==e?void 0:e.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:i[2],ease:"expo.out"}).to(a,{width:a.querySelectorAll(".text-slide")[2].offsetWidth+20},"<").to(n.querySelectorAll(".line-progress-active")[2],{scaleX:1,duration:i[2]},"<").to(null==e?void 0:e.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:i[3],ease:"expo.out"}).to(a,{width:a.querySelectorAll(".text-slide")[3].offsetWidth+20},"<").to(n.querySelectorAll(".line-progress-active")[3],{scaleX:1,duration:i[3]}).to(n.querySelectorAll(".line-progress-active")[4],{scaleX:1,duration:i[4]}).to(null==e?void 0:e.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:i[4],ease:"expo.out"},"<").to(a,{width:a.querySelectorAll(".text-slide")[4].offsetWidth+20},"<").to(null==e?void 0:e.querySelector(".text-slide-wrapper"),{duration:i[4]-.1,ease:"expo.out"}),setTimeout((function(){ScrollTrigger.create({trigger:e,start:"top top",end:"bottom-=".concat(innerHeight," top"),markers:{startColor:"yellow",endColor:"red",fontSize:"20px",indent:2e3},scrub:1,animation:o,id:"unlock-power"})}),0)}}},{key:"initAddFilmEffect",value:(s=o(t().mark((function e(){var r,o,n,a,c,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.querySelector(".section-film-effects"),o=null==r?void 0:r.querySelectorAll("video"),r&&!(o.length<1)){e.next=4;break}return e.abrupt("return");case 4:console.log(o,"video"),this.videoScroller(o[1],r,{trigger:r,start:"top top",end:"bottom-=".concat(window.innerHeight," top"),scrub:1}),this.videoScroller(o[0],r,i(i({trigger:r,start:"top top",end:"bottom-=".concat(window.innerHeight," top"),markers:!1,pin:".section-film-effects .section-wrapper"},"markers",!0),"scrub",1)),this.initCreateSLiderText(r,".h5"),n=o[0].duration,a=gsap.timeline({paused:!0}),c=r.querySelector(".line-progress-wrapper"),l=r.querySelector("[data-text-slide]"),u=[1,.9,1,.9,1.2],a.duration(n),a.to(null==r?void 0:r.querySelector(".text-slide-wrapper"),{duration:u[0],ease:"expo.out"}).to(c.querySelectorAll(".line-progress-active")[0],{scaleX:1,duration:u[0]},"<").to(l,{width:l.querySelectorAll(".text-slide")[0].offsetWidth+20},"<").to(null==r?void 0:r.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:u[1],ease:"expo.out"}).to(c.querySelectorAll(".line-progress-active")[1],{scaleX:1,duration:u[1]},"<").to(l,{width:l.querySelectorAll(".text-slide")[1].offsetWidth+20},"<").to(null==r?void 0:r.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:u[2],ease:"expo.out"}).to(l,{width:l.querySelectorAll(".text-slide")[2].offsetWidth+20},"<").to(c.querySelectorAll(".line-progress-active")[2],{scaleX:1,duration:u[2]},"<").to(null==r?void 0:r.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:u[3],ease:"expo.out"}).to(c.querySelectorAll(".line-progress-active")[3],{scaleX:1,duration:u[3]},"<").to(l,{width:l.querySelectorAll(".text-slide")[3].offsetWidth+20},"<").to(c.querySelectorAll(".line-progress-active")[4],{scaleX:1,duration:u[4]}).to(null==r?void 0:r.querySelector(".text-slide-wrapper"),{yPercent:"-=100",duration:u[4],ease:"expo.out"},"<").to(l,{width:l.querySelectorAll(".text-slide")[4].offsetWidth+20},"<").to(null==r?void 0:r.querySelector(".text-slide-wrapper"),{duration:u[4]-.1,ease:"expo.out"}),setTimeout((function(){ScrollTrigger.create({trigger:r,start:"top top",end:"bottom-=".concat(innerHeight," top"),markers:{startColor:"#ff0ff0",endColor:"red",fontSize:"20px",indent:2e3},scrub:1,animation:a})}),10);case 17:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"videoLoadedDuration",value:function(e){return new Promise((function(t){e.readyState>=1?t(e.duration):e.addEventListener("loadedmetadata",(function(){t(e.duration)}),{once:!0})}))}},{key:"createCanvasSequence",value:(u=o(t().mark((function e(r){var o,n,i,a,c,l,u,s,d,p,y,f,g,h,m,v,w,S,x,b,q,A;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.element,n=r.totalFrames,i=r.fileType,a=r.imageFolder,c=r.filenamePrefix,l=r.padLength,u=r.startFrame,s=void 0===u?0:u,d=r.preload,p=void 0!==d&&d,y=r.width,f=void 0===y?window.innerWidth:y,g=r.height,h=void 0===g?window.innerHeight:g,m=document.querySelector(o)){e.next=4;break}return e.abrupt("return",null);case 4:if(v=m.getContext("2d"),w=function(e){var t=s+e;return"".concat(a,"/").concat(c,"_").concat(String(t).padStart(l,"0"),".").concat(i)},S=function(e){v.clearRect(0,0,m.width,m.height);var t=e.width/e.height,r=m.width,o=m.height;m.width/m.height>t?r=m.height*t:o=m.width/t;var n=(m.width-r)/2;v.drawImage(e,n,0,r,o)},m.width=f,m.height=h,!p){e.next=19;break}return x=function(){return Promise.all(Array.from({length:n},(function(e,t){return new Promise((function(e,r){var o=new Image;o.src=w(t),o.onload=function(){return e(o)},o.onerror=function(){return r(new Error("Image load failed for ".concat(o.src)))}}))})))},e.next=13,x();case 13:return b=e.sent,S(b[0]),window.addEventListener("resize",(function(){m.width=f,m.height=h,S(b[0])})),e.abrupt("return",(function(e){var t=Math.floor(e*(b.length-1));S(b[t])}));case 19:return q={},A=function(e){if(q[e])S(q[e]);else{var t=new Image;t.src=w(e),t.onload=function(){q[e]=t,S(t)}}},window.addEventListener("resize",(function(){m.width=f,m.height=h})),e.abrupt("return",(function(e){var t=Math.floor(e*(n-1));A(t)}));case 23:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"initUnlockPowerLut",value:(l=o(t().mark((function e(){var r,o,n,i,a,c,l,u,s,d,p,y,f,g,h,m,v,w,S,x,b,q,A,k;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.querySelector(".section-unlock-power-lut"),o=null==r?void 0:r.querySelector(".video-wrapper-right video"),r&&o){e.next=4;break}return e.abrupt("return");case 4:return this.videoScroller(o,r,{trigger:r,start:"top top",end:"bottom-=".concat(innerHeight," top"),pin:".section-unlock-power-lut .section-wrapper",markers:!1,preventOverlaps:!0,scrub:1},10),n=r.querySelector(".slider-power"),i=n.querySelectorAll(".slider-power-item"),a=r.querySelector(".slider-description"),c=a.querySelectorAll(".slider-description-item"),gsap.set([i,c],{opacity:0,yPercent:50}),(l=gsap.timeline({paused:!0})).duration(o.duration),u=gsap.timeline({}),s=gsap.timeline({}),d=gsap.timeline({}),p=gsap.timeline({}),y=gsap.timeline({}),f=r.querySelector(".line-progress-wrapper"),g=[1.5,2,3,4,6],h=o.duration,l.duration(h),m=document.querySelector("#scopes-grading-canvas").getAttribute("data-src"),v=document.querySelector("#independent-canvas").getAttribute("data-src"),w=document.querySelector("#preset-canvas").getAttribute("data-src"),e.next=26,this.createCanvasSequence({element:"#scopes-grading-canvas",totalFrames:247,fileType:"png",imageFolder:m,filenamePrefix:"3_scopes_grading",padLength:8,startFrame:86400,preload:!1,width:480,height:480});case 26:return S=e.sent,e.next=29,this.createCanvasSequence({element:"#independent-canvas",totalFrames:288,fileType:"png",imageFolder:v,filenamePrefix:"1_independent",padLength:8,startFrame:86400,preload:!1,width:480,height:480});case 29:return x=e.sent,e.next=32,this.createCanvasSequence({element:"#preset-canvas",totalFrames:118,fileType:"png",imageFolder:w,filenamePrefix:"4_preset",padLength:8,startFrame:86400,preload:!1,width:480,height:128});case 32:b=e.sent,q={progress:0},A={progress:0},k={progress:0},u.to(i[0],{opacity:1,yPercent:0,duration:.5}).to(c[0],{opacity:1,duration:.5},"<").from("#independent-canvas",{opacity:0,yPercent:50,duration:1}).to(c[0],{opacity:0,yPercent:-50,duration:1}).to(c[1],{opacity:1,yPercent:0,duration:1}).to(c[1],{opacity:0,yPercent:-50,duration:1}).to(c[2],{opacity:1,yPercent:0,duration:1}).to(i[0],{xPercent:50,duration:.5,opacity:0}),l.add(u,0).to(A,{progress:1,duration:u.duration()-1,ease:"none",onUpdate:function(){x(A.progress)}},1).to(f.querySelectorAll(".line-progress-active")[0],{scaleX:1,duration:u.duration()},0),s.to(i[1],{opacity:1,yPercent:0,duration:.5}).to(i[1],{opacity:1,yPercent:0,duration:g[1]}).to(i[1],{xPercent:50,duration:.5,opacity:0}),l.add(s,u.duration()).to(f.querySelectorAll(".line-progress-active")[1],{scaleX:1,duration:s.duration()},u.duration()),d.to(i[2],{opacity:1,yPercent:0,duration:.5}).to(i[2],{opacity:1,duration:2*g[2]}).to(i[2],{xPercent:50,duration:.5,opacity:0}),l.add(d,u.duration()+s.duration()).to(q,{progress:1,duration:d.duration(),ease:"none",onUpdate:function(){S(q.progress)}},u.duration()+s.duration()).to(f.querySelectorAll(".line-progress-active")[2],{scaleX:1,duration:d.duration()},u.duration()+s.duration()),p.to(i[3],{opacity:1,yPercent:0,duration:.5}).to(i[3],{opacity:1,duration:2*g[3]}).to(i[3],{xPercent:50,duration:.5,opacity:0}),l.add(p,u.duration()+s.duration()+d.duration()).to(k,{progress:1,duration:p.duration()-1,ease:"none",onUpdate:function(){b(k.progress)}},u.duration()+s.duration()+d.duration()).to(f.querySelectorAll(".line-progress-active")[3],{scaleX:1,duration:p.duration()},u.duration()+s.duration()+d.duration()),y.to(i[4],{opacity:1,yPercent:0,duration:.5}).to(i[4],{opacity:1,duration:g[4]}),l.add(y,u.duration()+s.duration()+d.duration()+p.duration()).to(f.querySelectorAll(".line-progress-active")[4],{scaleX:1,duration:y.duration()},u.duration()+s.duration()+d.duration()+p.duration()),ScrollTrigger.create({trigger:r,start:"top top",end:"bottom-=".concat(innerHeight," top"),markers:{startColor:"purple",endColor:"red",fontSize:"60px",indent:1e4},scrub:1.2,animation:l});case 47:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"playCanvasDuringTimeline",value:function(e,t){e.eventCallback("onUpdate",(function(){var r=e.progress();console.log(r,"progress"),t(r)}))}}],c=[{key:"Create",value:function(t){return instance||(instance=new e(t)),instance}}],a&&n(r.prototype,a),c&&n(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,c,l,u,s}();i(c,"instance",null),window.addEventListener("load",(function(){console.log("load"),new c}));
//# sourceMappingURL=index.min.js.map